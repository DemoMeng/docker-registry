<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>dockerç§æœ‰ä»“åº“ç®¡ç†</title>
    <link th:href="@{/layui/css/layui.css}" rel="stylesheet" />
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo">dockerç§æœ‰ä»“åº“ç®¡ç†</div>
        <!-- å¤´éƒ¨åŒºåŸŸï¼ˆå¯é…åˆlayuiå·²æœ‰çš„æ°´å¹³å¯¼èˆªï¼‰ -->
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item"><a href="#">é¦–é¡µ</a></li>
            <li class="layui-nav-item"><a href="#">ç”¨æˆ·ç®¡ç†</a></li>
            <li class="layui-nav-item"><a href="#">å…¶å®ƒ</a>
                <dl class="layui-nav-child">
                    <dd><a href="">æ¶ˆæ¯ç®¡ç†</a></dd>
                    <dd><a href="">æˆæƒç®¡ç†</a></dd>
                </dl></li>
        </ul>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item"><a id="user-info" href="javascript:;">è’™å¤§æ‹¿</a>
                <dl class="layui-nav-child">
                    <dd><a href="">åŸºæœ¬èµ„æ–™</a></dd>
                    <dd><a href="">å®‰å…¨è®¾ç½®</a></dd>
                </dl></li>
            <li class="layui-nav-item"><a href="#" onclick="loginOut()">æ‹œæ‹œ</a></li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <!-- å·¦ä¾§å¯¼èˆªåŒºåŸŸï¼ˆå¯é…åˆlayuiå·²æœ‰çš„å‚ç›´å¯¼èˆªï¼‰ -->
            <ul class="layui-nav layui-nav-tree" lay-filter="test">
                <li class="layui-nav-item">
                    <a id="repository-menu" tab-id="1" href="#">ä»“åº“ç®¡ç†</a>
                </li>
                <li class="layui-nav-item">
                    <a id="image-menu" class="" tab-id="2" href="#">é•œåƒç®¡ç†</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="layui-body">
        <!-- å†…å®¹ä¸»ä½“åŒºåŸŸ -->
        <div style="padding: 15px;">
            <div class="layui-tab" lay-filter="mytab" lay-allowClose="false">
                <ul class="layui-tab-title">
                    <li class="layui-this">
                        <i class="layui-icon">
                            ğŸ‘‹ <cite>æ§åˆ¶é¢æ¿</cite>
                        </i>
                    </li>
                </ul>
                <div class="layui-tab-content">
                    <div class="layui-tab-item layui-show">
                        <iframe id="frameAdmin" frameborder="0" width="100%" height="100%" src=""></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="layui-footer">
        <!-- åº•éƒ¨å›ºå®šåŒºåŸŸ -->
        Â© copyRight - power by mqz
    </div>
</div>
<script th:src="@{/layui/layui.js}"></script>
<script th:src="@{/js/token_filter.js}"></script>
<script th:src="@{/js/utils.js}"></script>
<script>
    layui.use(['element','layer'], function() {
        let $ = layui.$,layer = layui.layer;
        $(function(){
            //ä»“åº“
            $("#repository-menu").on("click",function(e){
                e.preventDefault();
                $("#frameAdmin").attr("src","/index/repository");
            })
            //é•œåƒ
            $("#image-menu").on("click",function(e){
                e.preventDefault();
                $("#frameAdmin").attr("src","/index/image");
            })
            /**åˆå§‹åŒ–èœå•**/
            // layui.$.ajax({
            //     url:"http://localhost:2008/system/init",
            //     data:null,
            //     type:"POST",
            //     headers:{'Accept':'application/json','token':"your token"},
            //     dataType:"JSON",
            //     contentType:"application/json;charset=UTF-8",
            //     success:function(data){
            //         let code = data.code;
            //         if(code == 200){
            //             init(data.data);
            //         }else if(code == 434){
            //             layer.msg(data.msg, function(){
            //                 /***ç§»é™¤token*/
            //                 layui.data('tokens', {
            //                     key: 'token'
            //                     ,remove: true
            //                 });
            //                 location.href = "https://common.mengqizhang.xyz/index/login";
            //             });
            //         }else{
            //             layer.msg(data.msg);
            //         }
            //     },
            //     error:function(data){
            //         layui.$.alert('å‘ç”ŸæœªçŸ¥é”™è¯¯',data.msg);
            //     }
            // });
        });

        // let element = layui.element
        //
        // layui.$(document).on('click', 'a', function () {
        //     console.log("å½“å‰è¶…é“¾æ¥å¯¹è±¡ï¼›");
        //     console.log($(this));
        //     if (!$(this)[0].hasAttribute("tab-id") || $(this).attr("tab-id") === '') {
        //         return;
        //     }
        //     let layId = $(this).attr("tab-id");
        //     let text = $(this).text();
        //     let dataUrl = $(this).attr("data-url");
        //     let tabs = $(".layui-tab-title").children();
        //     let msg = true;
        //     $.each(tabs, function (i, item) {
        //         let tabIds = $(item).attr("lay-id");
        //         if (tabIds === layId) {
        //             msg = false;
        //             return false;
        //         }
        //     });
        //
        //     if (msg) {
        //         element.tabAdd('mytab', {
        //             title: text,
        //             content: "<iframe frameborder='0' src='" + dataUrl + "'></iframe>",
        //             id: layId
        //         });
        //     }
        //     resize();
        //     element.tabChange('mytab', layId);
        // });
        //
        // $(window).on('resize', function () {
        //     let $content = $(".layui-tab-content");
        //     $content.height($(this).height() - 200);
        //     $content.find('iframe').each(function () {
        //         $(this).height($content.height());
        //         $(this).width("100%")
        //     });
        // });
        // $(window).on('load', function () {
        //     let $content = $(".layui-tab-content");
        //     $content.height($(this).height() - 200);
        //     $content.find('iframe').each(function () {
        //         $(this).height($content.height());
        //         $(this).width("100%")
        //     });
        // })
        //
        // function resize() {
        //     let $content = $(".layui-tab-content");
        //     $content.height($(this).height() - 200);
        //     $content.find('iframe').each(function () {
        //         $(this).height($content.height());
        //         $(this).width("100%")
        //     })
        // }
    });
</script>
</body>
</html>